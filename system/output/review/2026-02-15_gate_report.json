{
  "date": "2026-02-15",
  "passed": false,
  "checks": {
    "review_pass_gate": false,
    "mode_health_ok": true,
    "state_stability_ok": true,
    "slot_anomaly_ok": false,
    "mode_drift_ok": true,
    "reconcile_drift_ok": true,
    "tests_ok": true,
    "health_ok": false,
    "stable_replay_ok": false,
    "data_completeness_ok": false,
    "unresolved_conflict_ok": false,
    "positive_window_ratio_ok": false,
    "max_drawdown_ok": false,
    "risk_violations_ok": false,
    "rollback_anchor_ready": true
  },
  "metrics": {
    "completeness": 0.0,
    "unresolved_conflict_ratio": 1.0,
    "positive_window_ratio": 0.0,
    "max_drawdown": 1.0,
    "violations": 999
  },
  "health": {
    "date": "2026-02-15",
    "status": "degraded",
    "checks": {
      "daily_briefing": false,
      "daily_signals": false,
      "daily_positions": false,
      "sqlite": true,
      "review_report": false,
      "review_delta": false
    },
    "missing": [
      "daily_briefing",
      "daily_signals",
      "daily_positions",
      "review_report",
      "review_delta"
    ]
  },
  "stable_replay": {
    "as_of": "2026-02-15",
    "replay_days": 3,
    "passed": false,
    "checks": [
      {
        "date": "2026-02-15",
        "ok": false,
        "health": {
          "date": "2026-02-15",
          "status": "degraded",
          "checks": {
            "daily_briefing": true,
            "daily_signals": true,
            "daily_positions": true,
            "sqlite": true,
            "review_report": false,
            "review_delta": false
          },
          "missing": [
            "review_report",
            "review_delta"
          ]
        }
      },
      {
        "date": "2026-02-14",
        "ok": true,
        "health": {
          "date": "2026-02-14",
          "status": "healthy",
          "checks": {
            "daily_briefing": true,
            "daily_signals": true,
            "daily_positions": true,
            "sqlite": true
          },
          "missing": []
        }
      },
      {
        "date": "2026-02-13",
        "ok": true,
        "health": {
          "date": "2026-02-13",
          "status": "healthy",
          "checks": {
            "daily_briefing": true,
            "daily_signals": true,
            "daily_positions": true,
            "sqlite": true
          },
          "missing": []
        }
      }
    ]
  },
  "state_stability": {
    "active": false,
    "window_days": 20,
    "samples": 4,
    "min_samples": 5,
    "metrics": {
      "switch_count": 1,
      "switch_rate": 0.3333333333333333,
      "risk_multiplier_min": 0.85,
      "risk_multiplier_avg": 0.8875,
      "risk_multiplier_drift": 0.07500000000000007,
      "source_confidence_min": 0.7567670195978391,
      "source_confidence_avg": 0.7699808852963209,
      "mode_health_fail_days": 0
    },
    "thresholds": {
      "mode_switch_max_rate": 0.45,
      "ops_risk_multiplier_floor": 0.35,
      "ops_risk_multiplier_drift_max": 0.3,
      "ops_source_confidence_floor": 0.75,
      "ops_mode_health_fail_days_max": 2
    },
    "checks": {
      "switch_rate_ok": true,
      "risk_multiplier_floor_ok": true,
      "risk_multiplier_drift_ok": true,
      "source_confidence_floor_ok": true,
      "mode_health_fail_days_ok": true
    },
    "alerts": [
      "insufficient_mode_feedback_samples"
    ],
    "series": [
      {
        "date": "2026-02-12",
        "runtime_mode": "swing",
        "risk_multiplier": 0.85,
        "source_confidence_score": 0.7567670195978391,
        "mode_health_passed": true
      },
      {
        "date": "2026-02-13",
        "runtime_mode": "swing",
        "risk_multiplier": 0.85,
        "source_confidence_score": 0.7595814532283635,
        "mode_health_passed": true
      },
      {
        "date": "2026-02-14",
        "runtime_mode": "swing",
        "risk_multiplier": 1.0,
        "source_confidence_score": 0.7929155222726977,
        "mode_health_passed": true
      },
      {
        "date": "2026-02-15",
        "runtime_mode": "ultra_short",
        "risk_multiplier": 0.85,
        "source_confidence_score": 0.7706595460863835,
        "mode_health_passed": true
      }
    ]
  },
  "slot_anomaly": {
    "active": true,
    "window_days": 7,
    "samples": 4,
    "min_samples": 3,
    "metrics": {
      "expected_slots": 16,
      "observed_slots": 10,
      "missing_slots": 6,
      "anomaly_slots": 3,
      "missing_ratio": 0.375,
      "premarket_anomaly_ratio": 0.0,
      "intraday_anomaly_ratio": 0.0,
      "eod_anomaly_ratio": 0.75,
      "eod_quality_anomaly_ratio": 0.75,
      "eod_risk_anomaly_ratio": 0.0,
      "eod_unknown_regime_days": 0,
      "eod_quality_regime_bucket_breaches": 1,
      "eod_risk_regime_bucket_breaches": 0
    },
    "thresholds": {
      "ops_slot_missing_ratio_max": 0.35,
      "ops_slot_premarket_anomaly_ratio_max": 0.5,
      "ops_slot_intraday_anomaly_ratio_max": 0.5,
      "ops_slot_eod_anomaly_ratio_max": 0.5,
      "ops_slot_eod_quality_anomaly_ratio_max": 0.5,
      "ops_slot_eod_risk_anomaly_ratio_max": 0.5,
      "ops_slot_eod_quality_anomaly_ratio_max_by_regime": {
        "trend": 0.55,
        "range": 0.5,
        "extreme_vol": 0.35
      },
      "ops_slot_eod_risk_anomaly_ratio_max_by_regime": {
        "trend": 0.55,
        "range": 0.5,
        "extreme_vol": 0.3
      },
      "ops_slot_source_confidence_floor": 0.75,
      "ops_slot_risk_multiplier_floor": 0.2
    },
    "checks": {
      "missing_ratio_ok": false,
      "premarket_anomaly_ok": true,
      "intraday_anomaly_ok": true,
      "eod_quality_anomaly_ok": false,
      "eod_risk_anomaly_ok": true,
      "eod_quality_regime_bucket_ok": false,
      "eod_risk_regime_bucket_ok": true,
      "eod_anomaly_ok": false
    },
    "alerts": [
      "slot_missing_ratio_high",
      "slot_eod_quality_anomaly_high",
      "slot_eod_quality_regime_bucket_anomaly_high",
      "slot_eod_anomaly_high"
    ],
    "slots": {
      "premarket": {
        "expected": 4,
        "observed": 2,
        "missing": 2,
        "anomalies": 0,
        "anomaly_ratio": 0.0,
        "missing_ratio": 0.5
      },
      "intraday": {
        "expected": 8,
        "observed": 4,
        "missing": 4,
        "anomalies": 0,
        "anomaly_ratio": 0.0,
        "missing_ratio": 0.5
      },
      "eod": {
        "expected": 4,
        "observed": 4,
        "missing": 0,
        "anomalies": 3,
        "anomaly_ratio": 0.75,
        "missing_ratio": 0.0,
        "quality_anomalies": 3,
        "risk_anomalies": 0,
        "quality_anomaly_ratio": 0.75,
        "risk_anomaly_ratio": 0.0,
        "regime_buckets": {
          "trend": {
            "days": 0,
            "quality_anomalies": 0,
            "risk_anomalies": 0,
            "quality_anomaly_ratio": 0.0,
            "risk_anomaly_ratio": 0.0,
            "quality_threshold": 0.55,
            "risk_threshold": 0.55,
            "quality_ok": true,
            "risk_ok": true
          },
          "range": {
            "days": 4,
            "quality_anomalies": 3,
            "risk_anomalies": 0,
            "quality_anomaly_ratio": 0.75,
            "risk_anomaly_ratio": 0.0,
            "quality_threshold": 0.5,
            "risk_threshold": 0.5,
            "quality_ok": false,
            "risk_ok": true
          },
          "extreme_vol": {
            "days": 0,
            "quality_anomalies": 0,
            "risk_anomalies": 0,
            "quality_anomaly_ratio": 0.0,
            "risk_anomaly_ratio": 0.0,
            "quality_threshold": 0.35,
            "risk_threshold": 0.3,
            "quality_ok": true,
            "risk_ok": true
          }
        }
      }
    },
    "series": [
      {
        "date": "2026-02-12",
        "expected": 4,
        "observed": 1,
        "missing": 3,
        "anomalies": 1,
        "alerts": [
          "premarket:missing",
          "intraday:10:30:missing",
          "intraday:14:30:missing",
          "eod:quality_failed"
        ]
      },
      {
        "date": "2026-02-13",
        "expected": 4,
        "observed": 4,
        "missing": 0,
        "anomalies": 1,
        "alerts": [
          "eod:quality_failed"
        ]
      },
      {
        "date": "2026-02-14",
        "expected": 4,
        "observed": 4,
        "missing": 0,
        "anomalies": 0,
        "alerts": []
      },
      {
        "date": "2026-02-15",
        "expected": 4,
        "observed": 1,
        "missing": 3,
        "anomalies": 1,
        "alerts": [
          "premarket:missing",
          "intraday:10:30:missing",
          "intraday:14:30:missing",
          "eod:quality_failed"
        ]
      }
    ]
  },
  "mode_drift": {
    "active": false,
    "window_days": 120,
    "runtime_mode": "ultra_short",
    "focus_runtime_mode_only": true,
    "min_live_trades": 30,
    "checks": {
      "samples_ok": false,
      "win_rate_gap_ok": true,
      "profit_factor_gap_ok": true
    },
    "thresholds": {
      "mode_drift_win_rate_max_gap": 0.12,
      "mode_drift_profit_factor_max_gap": 0.4
    },
    "summary": {
      "scope_modes": 1,
      "compared_modes": 0,
      "active_modes": 0
    },
    "alerts": [
      "mode_drift_missing_baseline:ultra_short",
      "mode_drift_inactive"
    ],
    "modes": {
      "ultra_short": {
        "baseline": {
          "samples": 0,
          "win_rate": 0.0,
          "profit_factor": 0.0
        },
        "live": {
          "trades": 0,
          "win_rate": 0.0,
          "profit_factor": 0.0
        },
        "gaps": {
          "win_rate_abs": 0.0,
          "profit_factor_abs": 0.0
        },
        "checks": {
          "baseline_ok": false,
          "samples_ok": false,
          "win_rate_gap_ok": true,
          "profit_factor_gap_ok": true
        },
        "active": false,
        "reason": "missing_backtest_baseline"
      }
    }
  },
  "reconcile_drift": {
    "active": true,
    "window_days": 7,
    "samples": 4,
    "min_samples": 3,
    "metrics": {
      "missing_days": 0,
      "missing_ratio": 0.0,
      "plan_gap_breach_ratio": 0.0,
      "closed_count_gap_breach_ratio": 0.0,
      "closed_pnl_gap_breach_ratio": 0.0,
      "open_gap_breach_ratio": 0.0,
      "avg_plan_gap_ratio": 0.0,
      "avg_closed_count_gap_ratio": 0.0,
      "avg_closed_pnl_gap_abs": 0.0,
      "avg_open_gap_ratio": 0.0,
      "open_gap_samples": 1,
      "broker_monitor_enabled": true,
      "broker_expected_days": 4,
      "broker_missing_days": 1,
      "broker_missing_ratio": 0.25,
      "broker_samples": 3,
      "broker_count_breach_ratio": 0.0,
      "broker_pnl_breach_ratio": 0.0,
      "avg_broker_count_gap_ratio": 0.0,
      "avg_broker_pnl_gap_abs": 0.0
    },
    "thresholds": {
      "ops_reconcile_missing_ratio_max": 0.35,
      "ops_reconcile_plan_gap_ratio_max": 0.1,
      "ops_reconcile_closed_count_gap_ratio_max": 0.1,
      "ops_reconcile_closed_pnl_gap_abs_max": 0.001,
      "ops_reconcile_open_gap_ratio_max": 0.25,
      "ops_reconcile_broker_gap_ratio_max": 0.1,
      "ops_reconcile_broker_pnl_gap_abs_max": 0.001,
      "ops_reconcile_broker_missing_ratio_max": 0.5,
      "ops_reconcile_require_broker_snapshot": false
    },
    "checks": {
      "missing_ratio_ok": true,
      "plan_count_gap_ok": true,
      "closed_count_gap_ok": true,
      "closed_pnl_gap_ok": true,
      "open_count_gap_ok": true,
      "broker_missing_ratio_ok": true,
      "broker_count_gap_ok": true,
      "broker_pnl_gap_ok": true
    },
    "alerts": [],
    "series": [
      {
        "date": "2026-02-12",
        "missing": false,
        "manifest": {
          "plans": 0,
          "closed_trades": 0,
          "closed_pnl": 0.0,
          "open_positions": 0
        },
        "csv": {
          "found": true,
          "rows": 0
        },
        "db": {
          "latest_positions_rows": 0,
          "executed_closed_rows": 0,
          "executed_closed_pnl": 0.0
        },
        "gaps": {
          "plan_count_ratio": 0.0,
          "closed_count_ratio": 0.0,
          "closed_pnl_abs": 0.0,
          "open_count_ratio": 0.0,
          "broker_open_count_ratio": 0.0,
          "broker_closed_pnl_abs": 0.0
        },
        "broker": {
          "monitor_enabled": true,
          "found": false
        },
        "alerts": [
          "broker_snapshot_missing"
        ]
      },
      {
        "date": "2026-02-13",
        "missing": false,
        "manifest": {
          "plans": 0,
          "closed_trades": 0,
          "closed_pnl": 0.0,
          "open_positions": 0
        },
        "csv": {
          "found": true,
          "rows": 0
        },
        "db": {
          "latest_positions_rows": 0,
          "executed_closed_rows": 0,
          "executed_closed_pnl": 0.0
        },
        "gaps": {
          "plan_count_ratio": 0.0,
          "closed_count_ratio": 0.0,
          "closed_pnl_abs": 0.0,
          "open_count_ratio": 0.0,
          "broker_open_count_ratio": 0.0,
          "broker_closed_pnl_abs": 0.0
        },
        "broker": {
          "monitor_enabled": true,
          "found": true
        },
        "alerts": []
      },
      {
        "date": "2026-02-14",
        "missing": false,
        "manifest": {
          "plans": 0,
          "closed_trades": 0,
          "closed_pnl": 0.0,
          "open_positions": 0
        },
        "csv": {
          "found": true,
          "rows": 0
        },
        "db": {
          "latest_positions_rows": 0,
          "executed_closed_rows": 0,
          "executed_closed_pnl": 0.0
        },
        "gaps": {
          "plan_count_ratio": 0.0,
          "closed_count_ratio": 0.0,
          "closed_pnl_abs": 0.0,
          "open_count_ratio": 0.0,
          "broker_open_count_ratio": 0.0,
          "broker_closed_pnl_abs": 0.0
        },
        "broker": {
          "monitor_enabled": true,
          "found": true
        },
        "alerts": []
      },
      {
        "date": "2026-02-15",
        "missing": false,
        "manifest": {
          "plans": 0,
          "closed_trades": 0,
          "closed_pnl": 0.0,
          "open_positions": 0
        },
        "csv": {
          "found": true,
          "rows": 0
        },
        "db": {
          "latest_positions_rows": 0,
          "executed_closed_rows": 0,
          "executed_closed_pnl": 0.0
        },
        "gaps": {
          "plan_count_ratio": 0.0,
          "closed_count_ratio": 0.0,
          "closed_pnl_abs": 0.0,
          "open_count_ratio": 0.0,
          "broker_open_count_ratio": 0.0,
          "broker_closed_pnl_abs": 0.0
        },
        "broker": {
          "monitor_enabled": true,
          "found": true
        },
        "alerts": []
      }
    ]
  },
  "rollback_recommendation": {
    "active": true,
    "level": "hard",
    "score": 13,
    "reason_codes": [
      "risk_violations",
      "max_drawdown",
      "stable_replay",
      "health_degraded",
      "slot_anomaly",
      "review_gate"
    ],
    "action": "rollback_now_and_lock_parameter_updates",
    "target_anchor": "/Users/jokenrobot/Downloads/离厄—技术分析原理/system/output/artifacts/params_live_backup_2026-02-14.yaml",
    "anchor_ready": true,
    "cooldown_days": 3,
    "candidates": [
      {
        "date": "2026-02-14",
        "path": "/Users/jokenrobot/Downloads/离厄—技术分析原理/system/output/artifacts/params_live_backup_2026-02-14.yaml",
        "source": "params_backup"
      },
      {
        "date": "2026-02-13",
        "path": "/Users/jokenrobot/Downloads/离厄—技术分析原理/system/output/artifacts/params_live_backup_2026-02-13.yaml",
        "source": "params_backup"
      }
    ],
    "alerts": [
      "insufficient_mode_feedback_samples",
      "slot_missing_ratio_high",
      "slot_eod_quality_anomaly_high",
      "mode_drift_missing_baseline:ultra_short",
      "mode_drift_inactive"
    ]
  },
  "tests": {
    "skipped": true
  }
}